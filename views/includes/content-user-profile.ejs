<section class="user-profile">
  <div class="user-profile__header">
    <picture>
      <source
        media="(min-width:800px)"
        srcset="img/users/<%= user.photo.slice(0, user.photo.lastIndexOf('.')) + '.webp' %>"
        type="image/webp"
      />
      <source
        media="(min-width:800px)"
        srcset="img/users/<%= user.photo %>"
        type="image/png"
      />
      <source
        media="(max-width:800px)"
        srcset="img/users/<%= user.photo.slice(0, user.photo.lastIndexOf('.')) + '.webp' %>"
        type="image/webp"
      />
      <source
        media="(max-width:800px)"
        srcset="img/users/<%= user.photo %>"
        type="image/png"
      />
      <img
        class="user-profile__profile-img"
        srcset="img/users/<%= user.photo %>"
        alt="user profile picture"
      />
    </picture>

    <div class="user-profile__profile-info">
      <h2 class="user-profile__profile-title">
        Welcome back <%= user.name[0].toUpperCase() + user.name.substring(1) %>
      </h2>
      <p class="user-profile__profile-text">
        Member since: <%= formattedDate %>
      </p>
    </div>
  </div>

  <div class="content-tabs">
    <button class="content-tabs__btn active">Overview</button>
    <div class="content-tabs__divider"></div>
    <button class="content-tabs__btn">My Words</button>
    <div class="content-tabs__line"></div>
  </div>

  <div class="content-box">
    <div class="content active">
      <p class="generic-text">Word of the day: <%= mappedWordOfTheDay %></p>

      <% if (mappedSentenceOfTheDay.includes(',')) { %>
      <p class="generic-text">
        Sentence of the day: <%= mappedSentenceOfTheDay.replace(/,/g,
        '').split('。')[0] %>。
      </p>
      <% } else { %>
      <p class="generic-text">
        Sentence of the day: <%= mappedSentenceOfTheDay.split('。')[0] %>。
      </p>
      <% } %>

      <h2 class="subtitle">Words in my collection</h2>
      <p class="generic-text">Total: <%= myWords %></p>
      <p class="generic-text">
        <span class="review__card--button red">Red</span> Unfamiliar words: <%=
        red %>
      </p>
      <p class="generic-text">
        <span class="review__card--button orange">Orange</span> Somewhat
        familiar words: <%= orange %>
      </p>
      <p class="generic-text">
        <span class="review__card--button yellow">Yellow</span> Familiar words:
        <%= yellow %>
      </p>
      <p class="generic-text">
        <span class="review__card--button green">Green</span> Mastered words:
        <%= green %>
      </p>
    </div>

    <div class="content">
      <div class="myWords-content-tabs">
        <button class="myWords-content-tabs__btn active">Red</button>
        <div class="myWords-content-tabs__divider"></div>
        <button class="myWords-content-tabs__btn">Orange</button>
        <div class="myWords-content-tabs__divider"></div>
        <button class="myWords-content-tabs__btn">Yellow</button>
        <div class="myWords-content-tabs__divider"></div>
        <button class="myWords-content-tabs__btn">Green</button>
        <div class="myWords-content-tabs__line"></div>
      </div>

      <div class="myWords-content-box">
        <div class="myWords-content active">
          <ul class="search__results">
            <% if (user.myWords.red.length > 0) { %> <% for (let word of
            user.myWords.red) { %>
            <li class="search__result">
              <div class="search__result--top-row">
                <h2><%= word.日本語.日本語単語 %></h2>
                <span class="search__result--part-of-speech"
                  ><%= word.日本語.日本語品詞 %></span
                >
                <% if (word.日本語.助詞 == '') { %>
                <span class="search__result--part-of-speech"></span>
                <% } else { %>
                <span class="search__result--part-of-speech"
                  >(<%= word.日本語.助詞 %>)</span
                >
                <% } %> <% switch (word.日本語.語類) { case "文語": %>
                <span class="search__result--word-type">(文)</span>
                <% break; case "口語": %>
                <span class="search__result--word-type">(口)</span>
                <% break; case "両方": %>
                <span class="search__result--word-type">(文口)</span>
                <% break; case "未定": %>
                <span class="search__result--word-type"></span>
                <% break; default: break; } %>
              </div>
              <% if (word.日本語.略語 == '') { %>
              <span class="search__result--part-of-speech"></span>
              <% } else { %>
              <span class="search__result--part-of-speech"
                >略: (<%= word.日本語.略語 %>)</span
              >
              <% } %>
              <div class="search__result--second-row">
                <span class="search__result--hiragana"
                  ><%= word.日本語.平仮名 %></span
                >
                <span class="search__result--katakana"
                  ><%= word.日本語.片仮名 %></span
                >
                <span class="search__result--romaji"
                  ><%= word.日本語.ローマ字 %></span
                >
              </div>
              <div class="search__result--third-row">
                <span class="search__result--english"
                  ><%= word.英語.英単語 %></span
                >
                <span class="search__result--part-of-speech"
                  ><%= word.英語.英語品詞 %></span
                >
              </div>
              <% if (word.英語.二次的定義 == '' && word.英語.複数定義 == '' &&
              word.日本語.日本語例文 == '' && word.英語.英語例文 == '' ) { %> <%
              } else { %>
              <div class="accordian-hidden">
                <% if (word.英語.二次的定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">二次的定義</h3>
                  <span class="accordian__item--text"
                    ><%= [word.英語.二次的定義] %></span
                  >
                </div>
                <% } %> <% if (word.英語.複数定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">複数定義</h3>
                  <span class="accordian__item--text"
                    ><%= word.英語.複数定義 %></span
                  >
                </div>
                <% } %> <% if (word.日本語.日本語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">日本語例文</h3>
                  <span class="accordian__item--text"
                    ><%= word.日本語.日本語例文.join('').replace(/,/g,'')
                    %></span
                  >
                </div>
                <% } %> <% if (word.英語.英語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">英語例文</h3>
                  <div class="accordian__item--text">
                    <%= word.英語.英語例文.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %> <% if (word.日本語.備考欄 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">備考欄</h3>
                  <div class="accordian__item--text">
                    <%= word.日本語.備考欄.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %>
              </div>

              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="accordian-icon"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15.75 19.5L8.25 12l7.5-7.5"
                />
              </svg>
              <% } %>
            </li>
            <% } %>
          </ul>
          <% } else { %>
          <h3 class="tertiary-title">No words currently in this collection</h3>
          <% } %>
        </div>

        <div class="myWords-content">
          <ul class="search__results">
            <% if (user.myWords.orange.length > 0) { %> <% for (let word of
            user.myWords.orange) { %>
            <li class="search__result">
              <div class="search__result--top-row">
                <h2><%= word.日本語.日本語単語 %></h2>
                <span class="search__result--part-of-speech"
                  ><%= word.日本語.日本語品詞 %></span
                >
                <% if (word.日本語.助詞 == '') { %>
                <span class="search__result--part-of-speech"></span>
                <% } else { %>
                <span class="search__result--part-of-speech"
                  >(<%= word.日本語.助詞 %>)</span
                >
                <% } %> <% switch (word.日本語.語類) { case "文語": %>
                <span class="search__result--word-type">(文)</span>
                <% break; case "口語": %>
                <span class="search__result--word-type">(口)</span>
                <% break; case "両方": %>
                <span class="search__result--word-type">(文口)</span>
                <% break; case "未定": %>
                <span class="search__result--word-type"></span>
                <% break; default: break; } %>
              </div>
              <% if (word.日本語.略語 == '') { %>
              <span class="search__result--part-of-speech"></span>
              <% } else { %>
              <span class="search__result--part-of-speech"
                >略: (<%= word.日本語.略語 %>)</span
              >
              <% } %>
              <div class="search__result--second-row">
                <span class="search__result--hiragana"
                  ><%= word.日本語.平仮名 %></span
                >
                <span class="search__result--katakana"
                  ><%= word.日本語.片仮名 %></span
                >
                <span class="search__result--romaji"
                  ><%= word.日本語.ローマ字 %></span
                >
              </div>
              <div class="search__result--third-row">
                <span class="search__result--english"
                  ><%= word.英語.英単語 %></span
                >
                <span class="search__result--part-of-speech"
                  ><%= word.英語.英語品詞 %></span
                >
              </div>
              <% if (word.英語.二次的定義 == '' && word.英語.複数定義 == '' &&
              word.日本語.日本語例文 == '' && word.英語.英語例文 == '' ) { %> <%
              } else { %>
              <div class="accordian-hidden">
                <% if (word.英語.二次的定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">二次的定義</h3>
                  <span class="accordian__item--text"
                    ><%= [word.英語.二次的定義] %></span
                  >
                </div>
                <% } %> <% if (word.英語.複数定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">複数定義</h3>
                  <span class="accordian__item--text"
                    ><%= word.英語.複数定義 %></span
                  >
                </div>
                <% } %> <% if (word.日本語.日本語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">日本語例文</h3>
                  <span class="accordian__item--text"
                    ><%= word.日本語.日本語例文.join('').replace(/,/g,'')
                    %></span
                  >
                </div>
                <% } %> <% if (word.英語.英語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">英語例文</h3>
                  <div class="accordian__item--text">
                    <%= word.英語.英語例文.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %> <% if (word.日本語.備考欄 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">備考欄</h3>
                  <div class="accordian__item--text">
                    <%= word.日本語.備考欄.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %>
              </div>

              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="accordian-icon"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15.75 19.5L8.25 12l7.5-7.5"
                />
              </svg>
              <% } %>
            </li>
            <% } %>
          </ul>
          <% } else { %>
          <h3 class="tertiary-title">No words currently in this collection</h3>
          <% } %>
        </div>

        <div class="myWords-content">
          <ul class="search__results">
            <% if (user.myWords.yellow.length > 0) { %> <% for (let word of
            user.myWords.yellow) { %>
            <li class="search__result">
              <div class="search__result--top-row">
                <h2><%= word.日本語.日本語単語 %></h2>
                <span class="search__result--part-of-speech"
                  ><%= word.日本語.日本語品詞 %></span
                >
                <% if (word.日本語.助詞 == '') { %>
                <span class="search__result--part-of-speech"></span>
                <% } else { %>
                <span class="search__result--part-of-speech"
                  >(<%= word.日本語.助詞 %>)</span
                >
                <% } %> <% switch (word.日本語.語類) { case "文語": %>
                <span class="search__result--word-type">(文)</span>
                <% break; case "口語": %>
                <span class="search__result--word-type">(口)</span>
                <% break; case "両方": %>
                <span class="search__result--word-type">(文口)</span>
                <% break; case "未定": %>
                <span class="search__result--word-type"></span>
                <% break; default: break; } %>
              </div>
              <% if (word.日本語.略語 == '') { %>
              <span class="search__result--part-of-speech"></span>
              <% } else { %>
              <span class="search__result--part-of-speech"
                >略: (<%= word.日本語.略語 %>)</span
              >
              <% } %>
              <div class="search__result--second-row">
                <span class="search__result--hiragana"
                  ><%= word.日本語.平仮名 %></span
                >
                <span class="search__result--katakana"
                  ><%= word.日本語.片仮名 %></span
                >
                <span class="search__result--romaji"
                  ><%= word.日本語.ローマ字 %></span
                >
              </div>
              <div class="search__result--third-row">
                <span class="search__result--english"
                  ><%= word.英語.英単語 %></span
                >
                <span class="search__result--part-of-speech"
                  ><%= word.英語.英語品詞 %></span
                >
              </div>
              <% if (word.英語.二次的定義 == '' && word.英語.複数定義 == '' &&
              word.日本語.日本語例文 == '' && word.英語.英語例文 == '' ) { %> <%
              } else { %>
              <div class="accordian-hidden">
                <% if (word.英語.二次的定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">二次的定義</h3>
                  <span class="accordian__item--text"
                    ><%= [word.英語.二次的定義] %></span
                  >
                </div>
                <% } %> <% if (word.英語.複数定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">複数定義</h3>
                  <span class="accordian__item--text"
                    ><%= word.英語.複数定義 %></span
                  >
                </div>
                <% } %> <% if (word.日本語.日本語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">日本語例文</h3>
                  <span class="accordian__item--text"
                    ><%= word.日本語.日本語例文.join('').replace(/,/g,'')
                    %></span
                  >
                </div>
                <% } %> <% if (word.英語.英語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">英語例文</h3>
                  <div class="accordian__item--text">
                    <%= word.英語.英語例文.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %> <% if (word.日本語.備考欄 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">備考欄</h3>
                  <div class="accordian__item--text">
                    <%= word.日本語.備考欄.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %>
              </div>

              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="accordian-icon"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15.75 19.5L8.25 12l7.5-7.5"
                />
              </svg>
              <% } %>
            </li>
            <% } %>
          </ul>
          <% } else { %>
          <h3 class="tertiary-title">No words currently in this collection</h3>
          <% } %>
        </div>

        <div class="myWords-content">
          <ul class="search__results">
            <% if (user.myWords.green.length > 0) { %> <% for (let word of
            user.myWords.green) { %>
            <li class="search__result">
              <div class="search__result--top-row">
                <h2><%= word.日本語.日本語単語 %></h2>
                <span class="search__result--part-of-speech"
                  ><%= word.日本語.日本語品詞 %></span
                >
                <% if (word.日本語.助詞 == '') { %>
                <span class="search__result--part-of-speech"></span>
                <% } else { %>
                <span class="search__result--part-of-speech"
                  >(<%= word.日本語.助詞 %>)</span
                >
                <% } %> <% switch (word.日本語.語類) { case "文語": %>
                <span class="search__result--word-type">(文)</span>
                <% break; case "口語": %>
                <span class="search__result--word-type">(口)</span>
                <% break; case "両方": %>
                <span class="search__result--word-type">(文口)</span>
                <% break; case "未定": %>
                <span class="search__result--word-type"></span>
                <% break; default: break; } %>
              </div>
              <% if (word.日本語.略語 == '') { %>
              <span class="search__result--part-of-speech"></span>
              <% } else { %>
              <span class="search__result--part-of-speech"
                >略: (<%= word.日本語.略語 %>)</span
              >
              <% } %>
              <div class="search__result--second-row">
                <span class="search__result--hiragana"
                  ><%= word.日本語.平仮名 %></span
                >
                <span class="search__result--katakana"
                  ><%= word.日本語.片仮名 %></span
                >
                <span class="search__result--romaji"
                  ><%= word.日本語.ローマ字 %></span
                >
              </div>
              <div class="search__result--third-row">
                <span class="search__result--english"
                  ><%= word.英語.英単語 %></span
                >
                <span class="search__result--part-of-speech"
                  ><%= word.英語.英語品詞 %></span
                >
              </div>
              <% if (word.英語.二次的定義 == '' && word.英語.複数定義 == '' &&
              word.日本語.日本語例文 == '' && word.英語.英語例文 == '' ) { %> <%
              } else { %>
              <div class="accordian-hidden">
                <% if (word.英語.二次的定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">二次的定義</h3>
                  <span class="accordian__item--text"
                    ><%= [word.英語.二次的定義] %></span
                  >
                </div>
                <% } %> <% if (word.英語.複数定義 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">複数定義</h3>
                  <span class="accordian__item--text"
                    ><%= word.英語.複数定義 %></span
                  >
                </div>
                <% } %> <% if (word.日本語.日本語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">日本語例文</h3>
                  <span class="accordian__item--text"
                    ><%= word.日本語.日本語例文.join('').replace(/,/g,'')
                    %></span
                  >
                </div>
                <% } %> <% if (word.英語.英語例文 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">英語例文</h3>
                  <div class="accordian__item--text">
                    <%= word.英語.英語例文.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %> <% if (word.日本語.備考欄 == '' ) { %>
                <div class="accordian__item"></div>
                <% } else { %>
                <div class="accordian__item">
                  <h3 class="accordian__item--title">備考欄</h3>
                  <div class="accordian__item--text">
                    <%= word.日本語.備考欄.join('').replace(/,/g,'') %>
                  </div>
                </div>
                <% } %>
              </div>

              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="accordian-icon"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15.75 19.5L8.25 12l7.5-7.5"
                />
              </svg>
              <% } %>
            </li>
            <% } %>
          </ul>
          <% } else { %>
          <h3 class="tertiary-title">No words currently in this collection</h3>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</section>
